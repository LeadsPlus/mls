<%= form_for Search.new, :remote => true do |f| %>
  <div id="top_search_bar">
    <%= f.label :min_payment, "Min Payment", :class => "hidden" %>
    <b><%= f.label :max_payment, "Payment" %></b>
    <%= f.hidden_field :min_payment, :value => @search.min_payment %>
    <%= f.hidden_field :max_payment, :value => @search.max_payment %>
    <div id="payment_slider"></div>
  </div>
  <div id="side_search_bar">
    <b><%= f.label :deposit, "Deposit" %></b>
    <%= f.text_field :deposit, :value => @search.deposit, :autocomplete => "off" %>
    <div>
      <%= f.submit :Search, :class => "sexy_btn float-left", :id => "search_submit" %>
      <a id="advanced_search_trigger" href="">Filter</a>
    </div>
  </div>
<% end %>
<%= render partial: "shared/search/dialog", locals: { search: @search } %>

<% content_for :sidebar do %>
  <%= form_for Search.new do |f| %>
    <strong><%= f.label :location, 'Locations' %></strong>
    <%= f.autocomplete_field :location, autocomplete_town_name_searches_path, value: @search.location %>
  <% end %>
  <!-- This partial should be under results or something since it's a byproduct of the search results -->
  <!-- The towns should be removable by clicking a little x -->
  <!-- They should also be categorized by county -->
  <!-- To improve the function, I need to add a little "Add" button beside the search box -->
  <!-- onclick, add a new town to the list. Then when we search, serialize the list by id (hidden fields!) -->
  <!-- I also need to fix the error that happens when I press the enter key, make it search -->
  <div id="towns_list">
    <%= render partial: "shared/search/towns_list", locals: { search: @search } %>
  </div>
<% end %>